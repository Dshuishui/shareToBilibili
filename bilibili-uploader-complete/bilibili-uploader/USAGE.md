# Bilibili视频上传工具使用说明

## 快速开始

### 1. 获取必要的认证信息

在使用本工具之前，您需要获取Bilibili的认证Cookie：

1. 在浏览器中登录 [https://www.bilibili.com](https://www.bilibili.com)
2. 打开开发者工具（按F12键）
3. 切换到"Application"或"存储"标签页
4. 在左侧菜单中找到"Cookies" -> "https://www.bilibili.com"
5. 找到以下两个Cookie值：
   - `SESSDATA`: 用于身份认证的会话数据
   - `bili_jct`: 用于CSRF保护的令牌

**重要提示**: 请妥善保管这些Cookie信息，不要泄露给他人。

### 2. 系统要求

- **操作系统**: Windows、macOS、Linux
- **Go语言**: 1.21或更高版本
- **Node.js**: 16.0或更高版本
- **内存**: 建议2GB以上
- **磁盘空间**: 至少1GB可用空间
- **网络**: 稳定的互联网连接

### 3. 安装和部署

#### 方法一：使用部署脚本（推荐）

1. 下载项目文件到本地
2. 打开终端，进入项目目录
3. 运行部署脚本：

```bash
./deploy.sh YOUR_SESSDATA YOUR_BILI_JCT [PORT]
```

参数说明：
- `YOUR_SESSDATA`: 您的SESSDATA Cookie值
- `YOUR_BILI_JCT`: 您的bili_jct Cookie值
- `PORT`: 服务端口（可选，默认8080）

#### 方法二：手动部署

1. **编译后端服务**：
```bash
cd bilibili-uploader
go mod tidy
go build -o bilibili-uploader cmd/main.go
```

2. **构建前端应用**：
```bash
cd ../bilibili-uploader-frontend
npm install
npm run build
```

3. **部署前端文件**：
```bash
cd ../bilibili-uploader
cp -r ../bilibili-uploader-frontend/dist/* web/static/
cp web/static/index.html web/templates/
```

4. **启动服务**：
```bash
./bilibili-uploader -sessdata=YOUR_SESSDATA -bili_jct=YOUR_BILI_JCT -port=8080
```

### 4. 访问应用

部署成功后，打开浏览器访问：`http://localhost:8080`

## 使用指南

### 1. 选择视频文件

- 点击上传区域或直接拖拽视频文件到指定区域
- 支持的格式：MP4、AVI、MOV、WMV、FLV、MKV、WEBM
- 文件大小：理论上无限制（采用分片上传技术）

### 2. 填写视频信息

#### 必填信息：
- **视频标题**: 最多80个字符，建议简洁明了
- **视频简介**: 最多2000个字符，详细描述视频内容
- **标签**: 用逗号分隔，如"游戏,娱乐,搞笑"
- **分区**: 选择合适的视频分区

#### 可选信息：
- **视频封面**: 支持JPG、PNG、GIF等格式
- **版权类型**: 原创或转载
- **转载来源**: 选择转载时需要填写

### 3. 开始上传

1. 确认所有必填信息已完整填写
2. 点击"开始上传"按钮
3. 等待上传完成，可以实时查看进度
4. 上传成功后会显示AV号和BV号

### 4. 常见问题处理

#### 上传失败怎么办？
- 检查网络连接是否稳定
- 确认Cookie信息是否正确且未过期
- 查看错误提示信息，按照建议操作
- 可以点击"重置"按钮重新开始

#### Cookie过期怎么办？
- 重新登录Bilibili网站
- 按照步骤1重新获取Cookie
- 重启服务并使用新的Cookie

#### 支持哪些视频格式？
- 主流格式：MP4（推荐）、AVI、MOV
- 其他格式：WMV、FLV、MKV、WEBM
- 建议使用MP4格式以获得最佳兼容性

## 高级功能

### 1. 批量上传

虽然当前版本不直接支持批量上传，但您可以：
- 逐个上传多个视频
- 使用浏览器的多标签页功能同时上传多个视频

### 2. 自定义配置

您可以通过命令行参数自定义配置：

```bash
./bilibili-uploader -h
```

查看所有可用的配置选项。

### 3. 日志查看

服务运行日志保存在 `service.log` 文件中，您可以通过以下命令查看：

```bash
tail -f service.log
```

## 安全注意事项

1. **保护Cookie信息**: 不要在公共场所或不安全的网络环境中使用
2. **定期更新**: 建议定期更新Cookie信息以确保安全性
3. **合规使用**: 请遵守Bilibili的使用条款和相关法律法规
4. **内容审核**: 确保上传的内容符合平台规范

## 故障排除

### 常见错误及解决方案

| 错误信息 | 可能原因 | 解决方案 |
|---------|---------|---------|
| 认证失败 | Cookie过期或错误 | 重新获取Cookie |
| 网络连接失败 | 网络不稳定 | 检查网络连接 |
| 文件格式不支持 | 视频格式不兼容 | 转换为支持的格式 |
| 上传超时 | 文件过大或网络慢 | 分段时间上传或优化网络 |

### 获取帮助

如果遇到问题，您可以：
1. 查看日志文件获取详细错误信息
2. 检查网络连接和Cookie有效性
3. 参考项目文档和FAQ
4. 在项目仓库提交Issue

## 更新和维护

### 检查更新
定期检查项目仓库是否有新版本发布，新版本可能包含：
- 功能改进和新特性
- 安全性修复
- 性能优化
- Bug修复

### 备份配置
建议定期备份重要的配置信息，包括：
- 服务配置文件
- 自定义设置
- 日志文件（如需要）

## 技术支持

如需技术支持，请：
1. 首先查阅本文档和项目README
2. 搜索已有的Issue和讨论
3. 提供详细的错误信息和操作步骤
4. 在项目仓库创建新的Issue

---

**版本**: 1.0.0  
**更新日期**: 2025年8月8日  
**适用系统**: 全平台

